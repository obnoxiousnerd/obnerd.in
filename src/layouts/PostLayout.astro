---
import BaseLayout from './BaseLayout.astro';
const { title, date, summary } = Astro.props.content;
const meta = {
  description: summary ?? title,
};
---

<BaseLayout {title} {meta}>
  <section class="heading">
    <h1 class="title">{title}</h1>
    <small>
      <time datetime={date}>
        {new Intl.DateTimeFormat('en-US', {
          year: 'numeric',
          month: 'long',
          day: '2-digit',
        }).format(new Date(date))}
      </time>
    </small>
  </section>
  <article>
    <slot />
  </article>
</BaseLayout>

<style lang="scss" global>
  @use 'sass:list';
  h1.title {
    margin-bottom: 0;
  }
  article {
    max-width: 60ch;
    pre {
      overflow-x: auto;
      padding: 1rem;
    }
    .icon-link {
      opacity: 0;
      margin-left: 0.5ch;
    }
    $headings: (h1, h2, h3, h4, h5, h6);
    @each $heading in $headings {
      #{$heading}:hover .icon-link {
        opacity: 1;
      }
    }
  }
</style>
