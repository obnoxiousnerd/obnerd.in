<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="description" content="A short guide + notes for upgrading your WSL Ubuntu LTS distro"/>

<link rel="me" href="https://github.com/retronav"/>
<link rel="me" href="https://fosstodon.org/@retronav"/>


    <link rel="webmention" href="https://webmention.io/karawale.in/webmention"/>



    <link rel="pingback" href="https://webmention.io/karawale.in/xmlrpc"/>

        <link rel="preload" as="font" type="font/woff2" href="fonts/cabin-latin-variable-wghtOnly-normal.woff2" crossorigin="anonymous">
        <link rel="preload" as="font" type="font/woff2" href="fonts/victor-mono-latin.woff2" crossorigin="anonymous"><meta name="generator" content="Eleventy"/>

<link rel="shortcut icon" href="/favicon.png" type="image/png">
<link rel="stylesheet" href="/main.css"/>
<title>
    
        Upgrading your Ubuntu LTS distro in WSL - Pranav Karawale
    
</title>

<!-- Umami -->
<script
    async
    defer
    data-website-id="9532279e-98ca-4434-b5cb-95d663716f5b"
    src="http://umami.karawale.in/umami.js"></script>

  </head>
  <body>
    
<header>
    <img src="/logo96.webp" height="48" width="48" alt="">
    <br/>
    <div class="h-card">
        <a class="u-url p-name" href="/">Pranav Karawale</a>
    </div>
</header>
<hr>
<main>
  <article class="h-entry">
  <header>
    <h1 class="p-name" class="title">Upgrading your Ubuntu LTS distro in WSL</h1>
    <time class="dt-published" datetime="2022-01-20T00:00:00Z">
      20 January 2022
    </time>
    <span class="seperator">&centerdot;</span>
    <span>By</span><div class="h-card h-card-mini p-author">
    <img class="u-photo" width="24" height="24" src="/img/me96.webp" alt="A close-up photo of my face.">
    <a href="/" rel="author" class="p-name u-url">
        Pranav Karawale
    </a>
</div>
    <br>
    <span>Tagged under: </span>
    
      <a class="p-category" href="/tags/posts">posts</a>
    
      <a class="p-category" href="/tags/wsl">wsl</a>
    
      <a class="p-category" href="/tags/notes">notes</a>
    
  </header>
  <aside>
    
  </aside>
  <hr/>
  <div class="e-content">
    <blockquote>
<p>Note: This post was written after upgrading my Ubuntu 20.04 LTS, so I don't
have any relevant screenshots/logs at the moment. Things are subject to change
in the future.</p>
</blockquote>
<p>I was configuring my git settings when I realised that git's version was an
older one (2.25). So I tried to update, but it didn't do that and instead told
that it's already up-to-date. It didn't took long to realise that the newer
versions are on the repositories of the newer versions and so I need to upgrade
my WSL distro. Here are the steps:</p>
<ol>
<li>Run <code>sudo do-release-upgrade</code>
At this stage you will probably see some error
telling you that it couldn't find any release, that is because it is looking
for LTS releases but there isn't any (as of writing this), so you need to
change some configuration files.
<ul>
<li>Open the <code>/etc/update-manager/release-upgrades</code>, and set the <code>Prompt</code> from
<code>lts</code> to <code>normal</code> (only do this if you are OK with a non-LTS version). Now
you can run the original command again.</li>
</ul>
</li>
<li>It will start pulling the repositories of the newest upgradable release. If
you notice that the installer is hanging and then terminating, that is
because of it trying to start <code>snap</code>. So, for the upgrade to proceed, you
need to remove <code>snap</code>. Don't worry, if you need it, you can install it back
after the upgrade (<a href="https://discourse.ubuntu.com/t/using-snapd-in-wsl2/12113">why is snap even in WSL when it doesn't work by default?
¯\_(ツ)_/¯</a>).
Remove the <code>snap</code> and <code>snapd</code> packages, you'd be good to go.</li>
<li>Now follow the prompts. At one point it will ask for permission to restart
all services. Grant the permission and let it continue.</li>
<li>BOOM! You have upgraded to a newer version! Hope you enjoy your distro with a
breath of fresh air.</li>
</ol>
<hr>
<p>I could find this on <a href="https://www.hughrawlinson.me/posts/2021/06/04/solved-do-release-upgrade-hangs-in-ubuntu-on-wsl">another post</a> by Hugh Rawlinson, however their Ubuntu's version was 18.04 LTS, but the steps are pretty much the same.</p>
  </div>
  <footer>
    <hr>
    <h2>Webmentions</h2>
<section class="webmention webmention-reactions">
    <p>
        My site uses <a href="http://indieweb.org/webmention">Webmentions</a> via the 
        <a href="https://indieweb.org">Indieweb</a>
        and <a href="https://webmention.io">webmention.io</a> 
        for likes, reposts, and replies/comments.
    </p>
    <form class="send-webmention" action="https://webmention.io/karawale.in/webmention" method="post">
        <label for="webmention-form-input">
             URL of your webmention
        </label>
        <input 
            id="webmention-form-input"
            name="source" type="url" 
            required placeholder="https://example.com/">
        <input 
            type="text"
            name="target"
            hidden value="https://karawale.in/posts/upgrading-ubuntu-lts-wsl/"
        >
        <input type="submit" value="Send webmention">
    </form>
    <details>
        <summary>
            Likes and reposts
        </summary>
        <ul class="webmention-reactions">
    
        
    
        
    
        
    
        
    
        
    
        
    
</ul>
    </details>
    <h3>Replies</h3>
    <ul class="webmention-reactions">
    
        
    
        
    
        
    
        
    
        
    
        
    
</ul>
</section>
<section class="webmention-replies"></section>
  </footer>
</article>
</main>
<hr>
<footer>
  <nav>
    <dl>
      
        <dt>Main</dt>
        <dd>
          <ul>
            
              <li>
                <a href="/">Home</a>
              </li>
            
              <li>
                <a href="/contact">Contact</a>
              </li>
            
              <li>
                <a href="/projects">Projects</a>
              </li>
            
              <li>
                <a href="/feed.xml">RSS</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>Writings</dt>
        <dd>
          <ul>
            
              <li>
                <a href="/posts">Blog</a>
              </li>
            
              <li>
                <a href="/notes">Notes</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>Links</dt>
        <dd>
          <ul>
            
              <li>
                <a href="https://sr.ht/~retronav">Sourcehut</a>
              </li>
            
              <li>
                <a href="https://github.com/retronav">GitHub</a>
              </li>
            
              <li>
                <a href="https://www.linkedin.com/in/pranav-karawale">LinkedIn</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  </nav>
</footer>
  </body>
</html>